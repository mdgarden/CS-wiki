5.29 변경 후 이슈 있음
https://github.com/thedrlambda/five-lines/issues/8


## 5.4 클래스 간의 코드 통합
### 5.4.2 리팩터링 패턴: 전략 패턴의 도입

##### 설명
다른 클래스를 인스턴스화해서 변형(variance)을 도입하는 개념을 **전략 패턴** 이라고 함. 전략이 필드를 가지고 있는 경우 이를 **상태 패턴(state pattern)** 이라고 함.
기본적인 아이디어는 클래스를 추가해서 변경이 가능하게 하는 것임. 코드를 자체 클래스로 옮길 경우, 새로운 변형을 추가하지 않더라도 확장성을 가질 수 있음.

전략 클래스가 완료된 후 메서드를 추가하는 경우는 거의 없음.
기능을 변경해야하는 경우, 새로운 클래스를 만드는 것을 선호함.

전략 패턴을 도입하는 상황
1. 코드에 변형을 도입하고 싶어서 리팩터링을 수행하는 경우
2. 떨어지는 성질을 코드화했던 상황에서 바로 변형의 추가가 필요하다고 예상하지 않았을 때(단지 클래스 간의 동작을 통합하려는 경우)

##### 절차
1. 분리하려는 코드에 대해 메서드 추출을 수행함. 다른 것과 통합하려면 메서드가 동일한지 확인함.
2. 새로운 클래스를 만듦.
3. 생성자에서 새로운 클래스를 인스턴스화함.
4. 메서드를 새로운 클래스로 옮김.
5. 필드에 종속성이 있을 경우 다음을 수행함.
	a. 필드를 새로운 클래스로 옮기고 옮긴 필드에 대한 접근자를 만듦.
	b. 새로운 접근자를 사용해서 원래 클래스에서 발생하는 오류를 바로잡음.
6. 새로운 클래스의 나머지 오류에 대해 해당 값을 대체할 매개변수를 추가함.
7. 메서드의 인라인화를 사용해서 1단계의 추출을 반대로 함.

##### 예제
https://gist.github.com/mdgarden/a47f71d89a2212df94abeb924d610181