---
tags:
  - Functional_Programming
  - JavaScript
  - Grokking
  - Taming
  - Complex
  - Software
  - with
  - Thinking
---

## 내용
- 함수형 사고가 무엇인지 설명
- 함수형 프로그래머가 코드를 바라보는 방법에 대하여

## 함수형 프로그래밍이란

> 함수형 프로그래밍 functional programming FP, 명사
> 1.  수학 함수를 사용하고 부수 효과side effect를 피하는 것이 특징인 프로그래밍 패러다임
> 2.  부수 효과 없이 순수 함수pure function만 사용하는 프로그래밍 스타일

- 부수효과 : 함수가 리턴값 이외에 하는 모든 일
	- 이메일 보내기, 파일 읽기, 전역 상태 수정 등등...
	- 리턴 값이 필요해서 특정 함수를 호출했는데 의도치 않게 부수효과가 발생할 수 있기 때문에 불필요한 부수 효과를 가능한 사용하지 않으려고 함

- 순수 함수 : 인자에만 의존하고 부수 효과가 없는 함수
	- "인자에만 의존" : 같은 인자를 넣으면 항상 같은 결과를 돌려준다는 뜻
	- 수학에서도 함수가 이런식으로 동작하기 때문에 순수 함수를 수학 함수라고 볼 수 있음

## 실용적인 측면에서 함수형 프로그래밍 정의의 문제점

- **문제 1 : 부수 효과는 필요함**
	- 부수 효과는 프로그램을 실행하는 이유(ex. 부수 효과가 없는 프로그램 = 이메일을 전송하지 않는 이메일 전송 소프트웨어)
	- 필요할 때는 부수 효과를 써야함

- **문제 2 : 함수형 프로그래밍은 부수 효과를 잘 다룰 수 있음**
	- 부수 효과는 필요하지만 문제가 될 수 있기 때문에 부수 효과를 잘 다루기 위한 도구를 사용

- **문제 3 : 함수형 프로그래밍은 실용적임**
	- 정의에서는 함수형 프로그래밍이 수학적이라 실제 소프트웨어 개발에서 사용하지 않는 것처럼 느껴짐
	- 실제로는 함수형 프로그래밍으로 잘 만들어진 좋은 소프트웨어가 많이 있음


---

## 액션과 계산, 데이터 구분하기
- 함수형 프로그래머는 직감적으로 코드를 세 분류로 나눔
	- 1. 액션
	- 2. 계산
	- 3. 데이터

### 코드의 1차 구분 : 부를 때 조심해야 하는 코드와 그렇지 않은 코드
- `액션`은 호출하는 시점과 횟수에 의존함. 예를 들어, `sendEmail(to, from, subject, body)`, `saveUserDB(user)`, `getCurrentTime()` 같은 코드

- 시점과 횟수에 의존하지 않는 코드(사용하기 쉬운 코드)
`{"firstname":"Eric"}`,`sum(numbers)`,`string_length(str)`등
언제 호출해도 항상 같은 값을 줌. 나머지 코드나 소프트웨어 외부에 영향을 주지 않음.

### 코드의 2차 구분 : 실행하는 코드와 그렇지 않은 코드

- 1차 구분에서 분류된 "사용하기 쉬운 코드"를 재분류
- `계산`과 `데이터`로 구분
	- `데이터`는 정적이고 보이는 그대로임
	- `계산`은 실행하기 전까지 어떻게 동작할지 알 수 없음

- ==액션==은 부르는 시점에 의존
- ==계산==은 입력값을 계산해 출력하는 것
- ==데이터==는 이벤트에 대한 사실을 기록한 것

- 함수형 프로그래밍 기술과 개념은 코드를 액션과 계산, 데이터로 구분하는 것으로부터 시작함

## 액션과 계산, 데이터의 구분

- 1단계 : 사용자가 작업 완료 표시를 함 = UI이벤트이지만 실행 횟수에 의존하기 때문에 ==액션==임
-  2단계 : 클라이언트가 서버로 메세지를 보냄 =메세지 자체는 ==데이터==, 메세지를 보내는 것은 ==액션==
-  3단계 : 서버가 메세지를 받은 = 메세지를 받는 것은 횟수에 의존하므로 ==액션==
-  4단계 : 서버가 데이터베이스를 변경 = 내부 상태를 바꾸는 것은 ==액션==
-  5단계 : 서버가 누구에게 알림을 보낼지 결정 = 입력값이 같다면 서버는 항상 같은 결정을 내리기 때문에 결정하는 것은 ==계산==
-  6단계 : 서버가 이메일로 알림을 보냄 = 이메일 보내기는 ==액션==


### 액션
**액션**은 실행 시점이나 횟수 또는 둘 다에 의존.
> - 시간이 지남에 따라 안전하게 상태를 바꿀 수 있는 방법
> - 순서를 보장하는 방법
> - 액션이 정확히 한 번만 실행되게 보장하는 방법 등등

### 계산
**계산**은 입력값으로 출력값을 만드는 것. 언제 어디서 계산해도 결과는 같고 외부에 영향을 주지 않음
> - 정확성을 위한 정적 분석
> - 소프트웨어에서 쓸 수 있는 수학적 지식
> - 테스트 전략

### 데이터
**데이터**는 이벤트에 대해 기록한 사실
> - 효율적으로 접근하기 위해 데이터를 구성하는 방법
> - 데이터를 보관하기 위한 기술
> - 데이터를 이용해 중요한 것을 발견하는 원칙


> [!note] 분산 시스템 규칙 3가지
> 1. 메세지 순서가 바뀔 수 있다.
> 2. 메세지는 한 번 이상 도착할 수도 있고 도착하지 않을 수도 있다.
> 3. 응답을 받지 못하면 무슨 일이 생겼는지 알 수 없다.

함수형 프로그래밍은 요즘 유행하는 분산 시스템에 적합함.