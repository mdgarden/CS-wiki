---
tags:
  - AWS
  - CodeBuild
  - CI/CD
aliases:
  - AWS CodeBuild
---
Q. `CodeBuild`의 역할은 정확히 어디까지인지?
- 아티팩트를 생성하고 중간 저장소에서 저장함

Q. `CodeBuild`에서 빌드가 완료된 아티팩트는 어디에 저장되는가?
- `CodeBuild`프로젝트 설정에서 지정할 수 있음
	- `buildspec.yml` 파일이나 AWS Management Console에서 직접 설정할 수 있음
	- [[Settings]]

![[Artifact]]

Q. 별도로 아티팩트의 저장 위치를 지정하지 않았을 경우, 기본 저장 위치는 어디인가?
- AWS CodeBuild에서 아티팩트의 저장 위치를 명시적으로 지정하지 않았다면, 빌드 프로세스에서 생성된 아티팩트는 기본적으로 어디에도 자동으로 저장되지 않습니다. 즉, 매니지먼트 콘솔에서 아티팩트 설정을 하지 않고 `buildspec.yml` 파일 내에서도 아티팩트의 S3 버킷 저장 경로를 지정하지 않았다면, 빌드가 성공적으로 완료된 후에도 생성된 아티팩트는 임시 빌드 환경에만 존재하게 됩니다.

- AWS CodeBuild는 빌드 환경을 위한 임시 컴퓨팅 리소스를 프로비저닝하며, 빌드가 완료되고 리소스가 해제될 때, 이 임시 환경에 저장된 모든 데이터도 함께 제거됩니다. 따라서, 빌드 프로세스에서 생성된 아티팩트를 보존하고자 한다면, 반드시 `buildspec.yml` 파일이나 AWS Management Console을 통해 아티팩트를 Amazon S3 버킷과 같은 영구적인 저장소에 명시적으로 저장하도록 설정해야 합니다.

Q. `CodeBuild`에 어떻게 작업을 지시하는가?
- `buildspec.yml` 파일에 정의된 지시에 따라 작업을 수행함
	- buildspec.yml 파일에는 빌드 과정에서 필요한 명령어들(의존성 설치, 컴파일 명령어 등)을 담고 있음

Q. `CodeBuild`에서 빌드할 때, 소스코드는 어떻게 가져오며 빌드가 진행되는 동안 어디에 저장되는가?
### 소스 코드의 처리 과정

1. **소스 코드의 다운로드**: 빌드가 시작되면, AWS CodeBuild는 설정된 소스 리포지토리에서 소스 코드를 빌드 환경으로 다운로드합니다. 이 빌드 환경은 AWS가 관리하는 고립된 컨테이너 환경입니다.
    
2. **임시 저장 공간**: 다운로드된 소스 코드는 빌드가 진행되는 동안 빌드 환경의 임시 저장 공간에 저장됩니다. 빌드 프로세스 중에 소스 코드는 필요한 빌드 명령(컴파일, 테스트, 패키징 등)에 따라 처리됩니다.
    
3. **아티팩트 생성과 저장**: 빌드 프로세스가 완료되면, 결과물인 아티팩트(예: 실행 파일, 라이브러리, 배포 가능한 패키지 등)는 지정된 출력 위치에 저장됩니다. 이 출력 위치는 S3 버킷일 수 있으며, 사용자는 이 위치를 빌드 설정에서 지정할 수 있습니다.
    
4. **빌드 환경의 정리**: 빌드 프로세스가 완료된 후, 사용된 빌드 환경(컨테이너)는 정리됩니다. 이 과정에서 빌드 환경 내의 임시 저장된 소스 코드와 빌드 중 생성된 임시 파일들은 삭제되며, 아티팩트를 제외한 모든 데이터는 영구적으로 제거됩니다.
    

### 요약

따라서, GitHub과 같은 리포지토리에서 직접 코드를 읽어서 빌드를 하는 것이 아니라, AWS CodeBuild는 빌드를 위해 소스 코드를 임시 빌드 환경으로 가져오고, 이 공간에서 빌드 프로세스를 진행합니다. 이 접근 방식은 빌드 프로세스를 안정적이고 일관되게 수행할 수 있도록 하며, 빌드 환경과 소스 코드 저장소 사이의 종속성을 최소화합니다.

Q. `CodeBuild`의 임시 빌드 환경은 독립적인가?
- 네, 맞습니다. AWS CodeBuild가 제공하는 임시 빌드 환경은 CodeBuild 서비스에서 완전히 관리되며, 별도로 EC2, ECS 등의 AWS 서비스를 사용자가 관리할 필요가 없습니다. 이 환경은 AWS가 관리하는 고립된 컨테이너 기반 환경에서 실행됩니다.

### 임시 빌드 환경의 특징:

1. **자동 관리**: CodeBuild는 빌드 환경을 자동으로 프로비저닝하고 관리합니다. 사용자는 `buildspec.yml` 파일을 통해 빌드 과정에서 필요한 명령어와 환경 설정만을 정의하면, 나머지는 CodeBuild가 처리합니다.
    
2. **고립성**: 각 빌드는 독립적인 컨테이너 환경에서 실행되어, 다른 빌드 프로세스와 격리됩니다. 이는 보안과 빌드의 안정성을 향상시킵니다.
    
3. **확장성**: CodeBuild는 빌드 요청에 따라 자동으로 확장 및 축소됩니다. 따라서 빌드를 동시에 여러 개 실행하거나, 빌드의 크기가 커져도 추가적인 구성이나 관리 없이 처리할 수 있습니다.
    
4. **통합**: CodeBuild는 AWS의 다른 서비스와 통합될 수 있어, Amazon S3, Amazon EC2, Amazon ECS 및 AWS Lambda와 같은 서비스로 아티팩트를 쉽게 배포할 수 있습니다. 또한, AWS CodePipeline과의 통합을 통해 지속적인 통합(CI) 및 지속적인 배포(CD) 파이프라인의 일부로 사용될 수 있습니다.
    

### 요약

따라서, CodeBuild에서의 빌드 프로세스는 사용자가 별도로 서버를 관리하거나 환경을 설정할 필요 없이 AWS가 제공하는 완전관리형 서비스에서 자동으로 처리됩니다. 사용자는 빌드 명세와 필요한 설정만을 제공하면, CodeBuild가 나머지 빌드 인프라 및 실행 환경을 관리합니다. 이는 빌드 및 배포 과정을 간소화하고, 개발자가 애플리케이션 개발에 더 집중할 수 있게 해줍니다.