BLE는 블루투스 규격의 일종으로 2009년에 발표된 Bluetooth4.0에서 추가됨
정식명칭은 Bluetooth Low Energy라고 하며, 이름대로 저전력소비/저코스트화에 특화된 규격
기존의 블루투스 규격(클래식 블루투스)와의 변경점이 많고, 호환성이 없음.

블루투스의 통신범위
Class라는 규격에 의해 정해져있음.
Class는 1~3의 3종류이며, 다음과 같이 분류됨.
- Class1 : 100mW(약 100미터)
- Class2 : 2.5mW(약 10미터)
- Class3 : 1mW(약 1미터)
가장 일반적인 것은 Class2

## 프로토콜

프로토콜의 정의는 장치 간의 페어링 실시나 데이터 송수신의 방법, 통신 주파수 정의 / 제어 등의 하드웨어 정의 등, 다양한 BLE 장치가 이용하는 정의를 포함하고 있음. 프로토콜은 크게 "컨트롤러", "호스트", "어플리케이션"의 3층으로 구성되어있음.

## BLE의 통신 방법

BLE 통신에서는 센트럴(Central)과 페리페랄(Peripheral)의 두 종류의 역할이 존재하고, 이 두 역할 사이에서 소통함.
센트럴은 마스터라고도 불리고, 일반적으로는 PC나 스마트폰이 이 역할을 맡음. 
다른 한쪽인 페리페랄은 슬레이브라고도 불리며, 센트럴에서의 요구에 응답하는 형식으로 통신을 함. 그것을 위해 통신의 제어기능은 가지고 있지 않음. 페리페랄은 서비스와 캐릭터리스틱으로 정의됨. 서비스는 기능단위를 표시하는 것으로, 페리페랄 내부에 반드시 존재함. 그 서비스 안에 존재하는 것이 캐릭터리스틱으로, 그 안에는 실제로 소통하는 데이터가 포함되어있음.
또한, 이 데이터에는 UUID라고 불리는 식별자가 부여되어 있어, 이 UUID를 지정하는 것으로 센트랄은 페리페랄 내의 정보에 액세스함.

## BLE 통신의 흐름
BLE 통신은 2단계로 이루어짐
제 1단계 : 스마트폰에 페리페랄을 인식시키는 단계. 인식 후, 페리페랄은 정기적으로  자신에 대한 정보를 보냄. 이 동작을 어드버타이즈라고 하며, 어드버타이즈멘트 채널을 통해서 행해짐
제 2단계 : 데이터 통신

**애드버타이징


요약
1. 페리페랄에서 센트랄 어드밴타이즈
2. 어드밴타이즈에서 보내진 데이터에서 센트럴이 페리페랄을 스캔
3. 센트럴이 페리페랄을 선택해서 접속요구
4. 요구를 받은 페리페랄은 어드밴타이즈 종료, 센트럴과의 접속 확립
5. 데이터 통신을 행하고, 통신이 종료되면 센트럴이 접속절단
6. 페리페랄이 다시 한번 어드밴타이즈를 실시


https://houwa-js.co.jp/2018/06/20180629/
